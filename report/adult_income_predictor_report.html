<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Adult Income Predictor Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="adult_income_predictor_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="adult_income_predictor_report_files/libs/quarto-html/quarto.js"></script>
<script src="adult_income_predictor_report_files/libs/quarto-html/popper.min.js"></script>
<script src="adult_income_predictor_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="adult_income_predictor_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="adult_income_predictor_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="adult_income_predictor_report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="adult_income_predictor_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="adult_income_predictor_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="adult_income_predictor_report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#download-and-extract-dataset" id="toc-download-and-extract-dataset" class="nav-link" data-scroll-target="#download-and-extract-dataset">Download and Extract Dataset</a></li>
  <li><a href="#data-validation-1-raw-data-file-format" id="toc-data-validation-1-raw-data-file-format" class="nav-link" data-scroll-target="#data-validation-1-raw-data-file-format">Data Validation 1: Raw Data File Format</a></li>
  <li><a href="#load-and-preview-the-dataset" id="toc-load-and-preview-the-dataset" class="nav-link" data-scroll-target="#load-and-preview-the-dataset">Load and Preview the Dataset</a></li>
  <li><a href="#data-validation-2-dataframe-checks" id="toc-data-validation-2-dataframe-checks" class="nav-link" data-scroll-target="#data-validation-2-dataframe-checks">Data Validation 2: DataFrame Checks</a></li>
  <li><a href="#eda-analysis" id="toc-eda-analysis" class="nav-link" data-scroll-target="#eda-analysis">EDA Analysis</a>
  <ul class="collapse">
  <li><a href="#data-summary" id="toc-data-summary" class="nav-link" data-scroll-target="#data-summary">Data Summary</a></li>
  <li><a href="#visualization-of-dataset" id="toc-visualization-of-dataset" class="nav-link" data-scroll-target="#visualization-of-dataset">Visualization of Dataset</a></li>
  <li><a href="#traintest-split" id="toc-traintest-split" class="nav-link" data-scroll-target="#traintest-split">Train/Test Split</a></li>
  <li><a href="#data-validation-3-target-response-distribution" id="toc-data-validation-3-target-response-distribution" class="nav-link" data-scroll-target="#data-validation-3-target-response-distribution">Data Validation 3: Target / Response Distribution</a></li>
  <li><a href="#data-validation-4-deep-checks-validation" id="toc-data-validation-4-deep-checks-validation" class="nav-link" data-scroll-target="#data-validation-4-deep-checks-validation">Data Validation 4: Deep Checks Validation</a></li>
  <li><a href="#column-selection" id="toc-column-selection" class="nav-link" data-scroll-target="#column-selection">Column Selection</a></li>
  <li><a href="#preprocessing" id="toc-preprocessing" class="nav-link" data-scroll-target="#preprocessing">Preprocessing</a></li>
  <li><a href="#model-fit" id="toc-model-fit" class="nav-link" data-scroll-target="#model-fit">Model Fit</a></li>
  <li><a href="#model-test-score-and-prediction" id="toc-model-test-score-and-prediction" class="nav-link" data-scroll-target="#model-test-score-and-prediction">Model Test Score and Prediction</a></li>
  <li><a href="#visualization-of-the-prediction-result" id="toc-visualization-of-the-prediction-result" class="nav-link" data-scroll-target="#visualization-of-the-prediction-result">Visualization of the prediction result</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="../adult_income_predictor_report.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Adult Income Predictor Report</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li>DSCI 522 - Workflows</li>
<li>MDS 2024-2025</li>
<li>Group 24</li>
<li>Members: Michael Suriawan, Francisco Ramirez, Tingting Chen, Quanhua Huang</li>
</ul>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>This report presents the application of a K-Nearest Neighbors (KNN) Classifier to predict an individual’s annual income based on selected categorical socioeconomic features from the Adult dataset. The dataset, sourced from the 1994 U.S. Census Bureau, contains 48,842 instances and features such as age, education, occupation, and marital status. The model achieved an accuracy of approximately 80%, with a tendency to predict more individuals with incomes below $50K compared to those above. This result emphasizes the importance of socioeconomic factors in determining income levels. Further investigation into individual feature contributions and the inclusion of numerical variables like age and hours-per-week could enhance prediction performance.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>The Adult dataset, originally curated from the 1994 U.S. Census Bureau database, is a well-known benchmark dataset in machine learning. Its primary objective is to predict whether an individual earns more or less than $50,000 annually based on various demographic and socio-economic attributes. With 48,842 instances and 14 features, the dataset encompasses a mix of categorical and continuous variables, making it a rich resource for classification tasks and exploratory data analysis.</p>
<p>The model described in this notebook, looks to use a trained “Nearest Neighbors” Classifier to use different socioeconomic features to predict the range of the individual’s income. The features in the data set include characteristics such as age, education level, marital status, occupation, among others.</p>
<p>The model looks to predict whether or not an individual’s income exceeds $50K/yr based on the selected categorical socioeconomic features. For simplicity, only selected categorical features from the original data set. These features are specifically encoded based on their content prior to training the kNN classifier used for predictions.</p>
<p><strong>Note</strong>: The original data set’s reference information can be found at the end of this document.</p>
</section>
<section id="setup" class="level1">
<h1>Setup</h1>
<div id="b6147971" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>DataTransformerRegistry.enable('vegafusion')</code></pre>
</div>
</div>
</section>
<section id="download-and-extract-dataset" class="level1">
<h1>Download and Extract Dataset</h1>
</section>
<section id="data-validation-1-raw-data-file-format" class="level1">
<h1>Data Validation 1: Raw Data File Format</h1>
<div id="908f5774" class="cell" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>Data Validation 1 passed: Data File Format has been checked and verified!</code></pre>
</div>
</div>
</section>
<section id="load-and-preview-the-dataset" class="level1">
<h1>Load and Preview the Dataset</h1>
<p>The following cell loads and displays the original data set.</p>
<p>It also adds names to the columns aligned to the description from the data set location in the UC Irvine Machine Learning Repository.</p>
<div id="04d37842" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">workclass</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education</th>
<th data-quarto-table-cell-role="th">education-num</th>
<th data-quarto-table-cell-role="th">marital-status</th>
<th data-quarto-table-cell-role="th">occupation</th>
<th data-quarto-table-cell-role="th">relationship</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">capital-gain</th>
<th data-quarto-table-cell-role="th">capital-loss</th>
<th data-quarto-table-cell-role="th">hours-per-week</th>
<th data-quarto-table-cell-role="th">native-country</th>
<th data-quarto-table-cell-role="th">income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>39</td>
<td>State-gov</td>
<td>77516</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>2174</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>50</td>
<td>Self-emp-not-inc</td>
<td>83311</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>38</td>
<td>Private</td>
<td>215646</td>
<td>HS-grad</td>
<td>9</td>
<td>Divorced</td>
<td>Handlers-cleaners</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>53</td>
<td>Private</td>
<td>234721</td>
<td>11th</td>
<td>7</td>
<td>Married-civ-spouse</td>
<td>Handlers-cleaners</td>
<td>Husband</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>28</td>
<td>Private</td>
<td>338409</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Prof-specialty</td>
<td>Wife</td>
<td>Black</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Cuba</td>
<td>&lt;=50K</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="data-validation-2-dataframe-checks" class="level1">
<h1>Data Validation 2: DataFrame Checks</h1>
<p>To ensure that the analysis is not influenced by erroneous data, the following cells aim to validate the quality of the loaded data before we perform such analyses.</p>
<p>In this section, the loaded data will be validated for the following characteristics:</p>
<ul>
<li>Correct column names</li>
<li>No empty observations</li>
<li>Missingness not beyond expected threshold</li>
<li>Correct data types in each column</li>
<li>No duplicate observations</li>
<li>No outlier or anomalous values</li>
<li>Correct category levels (i.e., no string mismatches or single values)</li>
</ul>
<p>Note that a log file called “validation_errors.log” will be created in this notebook location documenting the errors found by the validation process.</p>
<p>Validation checks below:</p>
<p>The following cell, will have all the errors found in the validation process removed from the dataframe for following steps in the analysis, as well as populating the “validation_errors.log” file.</p>
<div id="ba0a091b" class="cell" data-execution_count="7">
<div class="cell-output cell-output-stdout">
<pre><code>Data Validation 2 passed: Data Validation performed on Dataframe!</code></pre>
</div>
</div>
<p>This is the resulting data set following validation. As it can be seen, a few rows were removed from the original data set given that they did not comply with the validation rules defined.</p>
<div id="6e17a53e" class="cell" data-execution_count="8">
<div class="cell-output cell-output-display" data-execution_count="35">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">workclass</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education</th>
<th data-quarto-table-cell-role="th">education-num</th>
<th data-quarto-table-cell-role="th">marital-status</th>
<th data-quarto-table-cell-role="th">occupation</th>
<th data-quarto-table-cell-role="th">relationship</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">capital-gain</th>
<th data-quarto-table-cell-role="th">capital-loss</th>
<th data-quarto-table-cell-role="th">hours-per-week</th>
<th data-quarto-table-cell-role="th">native-country</th>
<th data-quarto-table-cell-role="th">income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>39</td>
<td>State-gov</td>
<td>77516</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>2174</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>50</td>
<td>Self-emp-not-inc</td>
<td>83311</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>38</td>
<td>Private</td>
<td>215646</td>
<td>HS-grad</td>
<td>9</td>
<td>Divorced</td>
<td>Handlers-cleaners</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>53</td>
<td>Private</td>
<td>234721</td>
<td>11th</td>
<td>7</td>
<td>Married-civ-spouse</td>
<td>Handlers-cleaners</td>
<td>Husband</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>28</td>
<td>Private</td>
<td>338409</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Prof-specialty</td>
<td>Wife</td>
<td>Black</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Cuba</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32556</td>
<td>27</td>
<td>Private</td>
<td>257302</td>
<td>Assoc-acdm</td>
<td>12</td>
<td>Married-civ-spouse</td>
<td>Tech-support</td>
<td>Wife</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>38</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32557</td>
<td>40</td>
<td>Private</td>
<td>154374</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Machine-op-inspct</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32558</td>
<td>58</td>
<td>Private</td>
<td>151910</td>
<td>HS-grad</td>
<td>9</td>
<td>Widowed</td>
<td>Adm-clerical</td>
<td>Unmarried</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32559</td>
<td>22</td>
<td>Private</td>
<td>201490</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Own-child</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>20</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32560</td>
<td>52</td>
<td>Self-emp-inc</td>
<td>287927</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Wife</td>
<td>White</td>
<td>Female</td>
<td>15024</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
</tbody>
</table>

<p>32537 rows × 15 columns</p>
</div>
</div>
</div>
</section>
<section id="eda-analysis" class="level1">
<h1>EDA Analysis</h1>
<section id="data-summary" class="level2">
<h2 class="anchored" data-anchor-id="data-summary">Data Summary</h2>
<p>Below is the summary of our dataset which contains numerical and categorical variables</p>
<div id="4b9f0efc" class="cell" data-execution_count="9">
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 32537 entries, 0 to 32560
Data columns (total 15 columns):
 #   Column          Non-Null Count  Dtype 
---  ------          --------------  ----- 
 0   age             32537 non-null  int64 
 1   workclass       32537 non-null  object
 2   fnlwgt          32537 non-null  int64 
 3   education       32537 non-null  object
 4   education-num   32537 non-null  int64 
 5   marital-status  32537 non-null  object
 6   occupation      32537 non-null  object
 7   relationship    32537 non-null  object
 8   race            32537 non-null  object
 9   sex             32537 non-null  object
 10  capital-gain    32537 non-null  int64 
 11  capital-loss    32537 non-null  int64 
 12  hours-per-week  32537 non-null  int64 
 13  native-country  32537 non-null  object
 14  income          32537 non-null  object
dtypes: int64(6), object(9)
memory usage: 4.0+ MB</code></pre>
</div>
</div>
<div id="9884c1eb" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display" data-execution_count="37">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education-num</th>
<th data-quarto-table-cell-role="th">capital-gain</th>
<th data-quarto-table-cell-role="th">capital-loss</th>
<th data-quarto-table-cell-role="th">hours-per-week</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>32537.000000</td>
<td>3.253700e+04</td>
<td>32537.000000</td>
<td>32537.000000</td>
<td>32537.000000</td>
<td>32537.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>38.585549</td>
<td>1.897808e+05</td>
<td>10.081815</td>
<td>1078.443741</td>
<td>87.368227</td>
<td>40.440329</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>13.637984</td>
<td>1.055565e+05</td>
<td>2.571633</td>
<td>7387.957424</td>
<td>403.101833</td>
<td>12.346889</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>17.000000</td>
<td>1.228500e+04</td>
<td>1.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>28.000000</td>
<td>1.178270e+05</td>
<td>9.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>40.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>37.000000</td>
<td>1.783560e+05</td>
<td>10.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>40.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>48.000000</td>
<td>2.369930e+05</td>
<td>12.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>45.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>90.000000</td>
<td>1.484705e+06</td>
<td>16.000000</td>
<td>99999.000000</td>
<td>4356.000000</td>
<td>99.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="visualization-of-dataset" class="level2">
<h2 class="anchored" data-anchor-id="visualization-of-dataset">Visualization of Dataset</h2>
<div id="5417c31a" class="cell" data-execution_count="11">
<div class="cell-output cell-output-display" data-execution_count="38">

<style>
  #altair-viz-aa2b4c6eb58545718a61bf57cd20401b.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-aa2b4c6eb58545718a61bf57cd20401b.vega-embed details,
  #altair-viz-aa2b4c6eb58545718a61bf57cd20401b.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-aa2b4c6eb58545718a61bf57cd20401b"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-aa2b4c6eb58545718a61bf57cd20401b") {
      outputDiv = document.getElementById("altair-viz-aa2b4c6eb58545718a61bf57cd20401b");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"__count": 10176, "income": " <=50K", "marital-status": " Never-married"}, {"__count": 8280, "income": " <=50K", "marital-status": " Married-civ-spouse"}, {"__count": 3978, "income": " <=50K", "marital-status": " Divorced"}, {"__count": 384, "income": " <=50K", "marital-status": " Married-spouse-absent"}, {"__count": 6690, "income": " >50K", "marital-status": " Married-civ-spouse"}, {"__count": 491, "income": " >50K", "marital-status": " Never-married"}, {"__count": 463, "income": " >50K", "marital-status": " Divorced"}, {"__count": 959, "income": " <=50K", "marital-status": " Separated"}, {"__count": 13, "income": " <=50K", "marital-status": " Married-AF-spouse"}, {"__count": 908, "income": " <=50K", "marital-status": " Widowed"}, {"__count": 66, "income": " >50K", "marital-status": " Separated"}, {"__count": 85, "income": " >50K", "marital-status": " Widowed"}, {"__count": 34, "income": " >50K", "marital-status": " Married-spouse-absent"}, {"__count": 10, "income": " >50K", "marital-status": " Married-AF-spouse"}]}, {"name": "source_0_x_domain___count", "values": [{"min": 10, "max": 10176}]}, {"name": "source_0_y_domain_marital-status", "values": [{"marital-status": " Never-married"}, {"marital-status": " Married-civ-spouse"}, {"marital-status": " Divorced"}, {"marital-status": " Married-spouse-absent"}, {"marital-status": " Separated"}, {"marital-status": " Married-AF-spouse"}, {"marital-status": " Widowed"}]}, {"name": "source_0_color_domain_income", "values": [{"income": " <=50K"}, {"income": " >50K"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"x2": {"value": 0, "scale": "x"}, "x": {"field": "__count", "scale": "x"}, "opacity": {"value": 0.75}, "fill": {"field": "income", "scale": "color"}, "y": {"field": "marital-status", "scale": "y"}, "height": {"signal": "max(0.25, bandwidth('y'))"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain___count\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain___count\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "zero": true, "nice": true}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_marital-status", "field": "marital-status", "sort": true}, "range": [0, {"signal": "height"}], "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_income", "field": "income", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "labels": false, "ticks": false, "gridScale": "y", "aria": false, "zindex": 0, "orient": "bottom", "tickCount": {"signal": "ceil(width/40)"}, "domain": false, "grid": true, "maxExtent": 0, "minExtent": 0}, {"scale": "x", "labelOverlap": true, "orient": "bottom", "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "title": "Count of Records", "grid": false, "labelFlush": true}, {"scale": "y", "grid": false, "zindex": 0, "orient": "left", "title": "Marital Status"}], "title": {"text": "Income for different marital status", "frame": "group"}, "height": 200, "legends": [{"fill": "color", "symbolType": "square", "title": "income", "encode": {"symbols": {"update": {"opacity": {"value": 0.75}}}}}], "style": "cell", "background": "white", "padding": 5, "width": 300}, {"mode": "vega"});
</script>
</div>
</div>
<div id="92791933" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display" data-execution_count="39">

<style>
  #altair-viz-d11449b723074653b891649a90d850c5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d11449b723074653b891649a90d850c5.vega-embed details,
  #altair-viz-d11449b723074653b891649a90d850c5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d11449b723074653b891649a90d850c5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d11449b723074653b891649a90d850c5") {
      outputDiv = document.getElementById("altair-viz-d11449b723074653b891649a90d850c5");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"__count": 7436, "income": " <=50K", "relationship": " Not-in-family"}, {"__count": 7271, "income": " <=50K", "relationship": " Husband"}, {"__count": 823, "income": " <=50K", "relationship": " Wife"}, {"__count": 5916, "income": " >50K", "relationship": " Husband"}, {"__count": 856, "income": " >50K", "relationship": " Not-in-family"}, {"__count": 4997, "income": " <=50K", "relationship": " Own-child"}, {"__count": 3227, "income": " <=50K", "relationship": " Unmarried"}, {"__count": 218, "income": " >50K", "relationship": " Unmarried"}, {"__count": 745, "income": " >50K", "relationship": " Wife"}, {"__count": 944, "income": " <=50K", "relationship": " Other-relative"}, {"__count": 37, "income": " >50K", "relationship": " Other-relative"}, {"__count": 67, "income": " >50K", "relationship": " Own-child"}]}, {"name": "source_0_x_domain___count", "values": [{"min": 37, "max": 7436}]}, {"name": "source_0_y_domain_relationship", "values": [{"relationship": " Not-in-family"}, {"relationship": " Husband"}, {"relationship": " Wife"}, {"relationship": " Own-child"}, {"relationship": " Unmarried"}, {"relationship": " Other-relative"}]}, {"name": "source_0_color_domain_income", "values": [{"income": " <=50K"}, {"income": " >50K"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"height": {"signal": "max(0.25, bandwidth('y'))"}, "x2": {"value": 0, "scale": "x"}, "fill": {"field": "income", "scale": "color"}, "x": {"field": "__count", "scale": "x"}, "y": {"field": "relationship", "scale": "y"}, "opacity": {"value": 0.75}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain___count\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain___count\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_relationship", "field": "relationship", "sort": true}, "range": [0, {"signal": "height"}], "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_income", "field": "income", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "orient": "bottom", "gridScale": "y", "grid": true, "tickCount": {"signal": "ceil(width/40)"}, "ticks": false, "zindex": 0, "maxExtent": 0, "labels": false, "aria": false, "minExtent": 0, "domain": false}, {"scale": "x", "labelFlush": true, "labelOverlap": true, "orient": "bottom", "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "title": "Count of Records", "grid": false}, {"scale": "y", "orient": "left", "grid": false, "zindex": 0, "title": "Relationships"}], "title": {"text": "Income for different relationship", "frame": "group"}, "padding": 5, "height": 200, "legends": [{"fill": "color", "symbolType": "square", "title": "income", "encode": {"symbols": {"update": {"opacity": {"value": 0.75}}}}}], "width": 300, "background": "white", "style": "cell"}, {"mode": "vega"});
</script>
</div>
</div>
<div id="0e3fc55e" class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="40">

<style>
  #altair-viz-6703437569834b1a8225e2f77b7bf2e5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-6703437569834b1a8225e2f77b7bf2e5.vega-embed details,
  #altair-viz-6703437569834b1a8225e2f77b7bf2e5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-6703437569834b1a8225e2f77b7bf2e5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-6703437569834b1a8225e2f77b7bf2e5") {
      outputDiv = document.getElementById("altair-viz-6703437569834b1a8225e2f77b7bf2e5");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"__count": 3261, "income": " <=50K", "occupation": " Adm-clerical"}, {"__count": 2097, "income": " <=50K", "occupation": " Exec-managerial"}, {"__count": 1283, "income": " <=50K", "occupation": " Handlers-cleaners"}, {"__count": 2278, "income": " <=50K", "occupation": " Prof-specialty"}, {"__count": 3154, "income": " <=50K", "occupation": " Other-service"}, {"__count": 1968, "income": " >50K", "occupation": " Exec-managerial"}, {"__count": 1858, "income": " >50K", "occupation": " Prof-specialty"}, {"__count": 2667, "income": " <=50K", "occupation": " Sales"}, {"__count": 929, "income": " >50K", "occupation": " Craft-repair"}, {"__count": 1277, "income": " <=50K", "occupation": " Transport-moving"}, {"__count": 877, "income": " <=50K", "occupation": " Farming-fishing"}, {"__count": 1751, "income": " <=50K", "occupation": " Machine-op-inspct"}, {"__count": 644, "income": " <=50K", "occupation": " Tech-support"}, {"__count": 283, "income": " >50K", "occupation": " Tech-support"}, {"__count": 3165, "income": " <=50K", "occupation": " Craft-repair"}, {"__count": 191, "income": " >50K", "occupation": " ?"}, {"__count": 438, "income": " <=50K", "occupation": " Protective-serv"}, {"__count": 983, "income": " >50K", "occupation": " Sales"}, {"__count": 1652, "income": " <=50K", "occupation": " ?"}, {"__count": 507, "income": " >50K", "occupation": " Adm-clerical"}, {"__count": 211, "income": " >50K", "occupation": " Protective-serv"}, {"__count": 137, "income": " >50K", "occupation": " Other-service"}, {"__count": 249, "income": " >50K", "occupation": " Machine-op-inspct"}, {"__count": 115, "income": " >50K", "occupation": " Farming-fishing"}, {"__count": 320, "income": " >50K", "occupation": " Transport-moving"}, {"__count": 8, "income": " <=50K", "occupation": " Armed-Forces"}, {"__count": 146, "income": " <=50K", "occupation": " Priv-house-serv"}, {"__count": 86, "income": " >50K", "occupation": " Handlers-cleaners"}, {"__count": 1, "income": " >50K", "occupation": " Armed-Forces"}, {"__count": 1, "income": " >50K", "occupation": " Priv-house-serv"}]}, {"name": "source_0_x_domain___count", "values": [{"min": 1, "max": 3261}]}, {"name": "source_0_y_domain_occupation", "values": [{"occupation": " Adm-clerical"}, {"occupation": " Exec-managerial"}, {"occupation": " Handlers-cleaners"}, {"occupation": " Prof-specialty"}, {"occupation": " Other-service"}, {"occupation": " Sales"}, {"occupation": " Craft-repair"}, {"occupation": " Transport-moving"}, {"occupation": " Farming-fishing"}, {"occupation": " Machine-op-inspct"}, {"occupation": " Tech-support"}, {"occupation": " ?"}, {"occupation": " Protective-serv"}, {"occupation": " Armed-Forces"}, {"occupation": " Priv-house-serv"}]}, {"name": "source_0_color_domain_income", "values": [{"income": " <=50K"}, {"income": " >50K"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"y": {"field": "occupation", "scale": "y"}, "x2": {"value": 0, "scale": "x"}, "opacity": {"value": 0.75}, "x": {"field": "__count", "scale": "x"}, "fill": {"field": "income", "scale": "color"}, "height": {"signal": "max(0.25, bandwidth('y'))"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain___count\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain___count\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_occupation", "field": "occupation", "sort": true}, "range": [0, {"signal": "height"}], "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_income", "field": "income", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "grid": true, "minExtent": 0, "zindex": 0, "domain": false, "orient": "bottom", "ticks": false, "aria": false, "labels": false, "gridScale": "y", "tickCount": {"signal": "ceil(width/40)"}, "maxExtent": 0}, {"scale": "x", "grid": false, "orient": "bottom", "labelFlush": true, "labelOverlap": true, "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "title": "Count of Records"}, {"scale": "y", "grid": false, "zindex": 0, "orient": "left", "title": "Occupations"}], "title": {"text": "Income for different occupation", "frame": "group"}, "padding": 5, "height": 200, "width": 300, "background": "white", "style": "cell", "legends": [{"fill": "color", "symbolType": "square", "title": "income", "encode": {"symbols": {"update": {"opacity": {"value": 0.75}}}}}]}, {"mode": "vega"});
</script>
</div>
</div>
<div id="9494b35f" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="41">

<style>
  #altair-viz-d20af00088f64201863c37cf0dac8acb.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d20af00088f64201863c37cf0dac8acb.vega-embed details,
  #altair-viz-d20af00088f64201863c37cf0dac8acb.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d20af00088f64201863c37cf0dac8acb"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d20af00088f64201863c37cf0dac8acb") {
      outputDiv = document.getElementById("altair-viz-d20af00088f64201863c37cf0dac8acb");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"__count": 945, "income": " <=50K", "workclass": " State-gov"}, {"__count": 1816, "income": " <=50K", "workclass": " Self-emp-not-inc"}, {"__count": 17712, "income": " <=50K", "workclass": " Private"}, {"__count": 724, "income": " >50K", "workclass": " Self-emp-not-inc"}, {"__count": 4961, "income": " >50K", "workclass": " Private"}, {"__count": 353, "income": " >50K", "workclass": " State-gov"}, {"__count": 589, "income": " <=50K", "workclass": " Federal-gov"}, {"__count": 617, "income": " >50K", "workclass": " Local-gov"}, {"__count": 191, "income": " >50K", "workclass": " ?"}, {"__count": 1476, "income": " <=50K", "workclass": " Local-gov"}, {"__count": 371, "income": " >50K", "workclass": " Federal-gov"}, {"__count": 494, "income": " <=50K", "workclass": " Self-emp-inc"}, {"__count": 1645, "income": " <=50K", "workclass": " ?"}, {"__count": 622, "income": " >50K", "workclass": " Self-emp-inc"}, {"__count": 14, "income": " <=50K", "workclass": " Without-pay"}, {"__count": 7, "income": " <=50K", "workclass": " Never-worked"}]}, {"name": "source_0_x_domain___count", "values": [{"min": 7, "max": 17712}]}, {"name": "source_0_y_domain_workclass", "values": [{"workclass": " State-gov"}, {"workclass": " Self-emp-not-inc"}, {"workclass": " Private"}, {"workclass": " Federal-gov"}, {"workclass": " Local-gov"}, {"workclass": " ?"}, {"workclass": " Self-emp-inc"}, {"workclass": " Without-pay"}, {"workclass": " Never-worked"}]}, {"name": "source_0_color_domain_income", "values": [{"income": " <=50K"}, {"income": " >50K"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"y": {"field": "workclass", "scale": "y"}, "x": {"field": "__count", "scale": "x"}, "opacity": {"value": 0.75}, "x2": {"value": 0, "scale": "x"}, "fill": {"field": "income", "scale": "color"}, "height": {"signal": "max(0.25, bandwidth('y'))"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain___count\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain___count\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_workclass", "field": "workclass", "sort": true}, "range": [0, {"signal": "height"}], "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_income", "field": "income", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "maxExtent": 0, "orient": "bottom", "domain": false, "labels": false, "aria": false, "ticks": false, "zindex": 0, "tickCount": {"signal": "ceil(width/40)"}, "grid": true, "gridScale": "y", "minExtent": 0}, {"scale": "x", "zindex": 0, "tickCount": {"signal": "ceil(width/40)"}, "title": "Count of Records", "grid": false, "orient": "bottom", "labelOverlap": true, "labelFlush": true}, {"scale": "y", "orient": "left", "zindex": 0, "title": "Workclass", "grid": false}], "title": {"text": "Income for different workclass", "frame": "group"}, "style": "cell", "padding": 5, "background": "white", "height": 200, "width": 300, "legends": [{"fill": "color", "symbolType": "square", "title": "income", "encode": {"symbols": {"update": {"opacity": {"value": 0.75}}}}}]}, {"mode": "vega"});
</script>
</div>
</div>
<div id="b80ac925" class="cell" data-execution_count="15">
<div class="cell-output cell-output-display" data-execution_count="42">

<style>
  #altair-viz-d2e58b7effb640ab80e4b780ac062da5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d2e58b7effb640ab80e4b780ac062da5.vega-embed details,
  #altair-viz-d2e58b7effb640ab80e4b780ac062da5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d2e58b7effb640ab80e4b780ac062da5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d2e58b7effb640ab80e4b780ac062da5") {
      outputDiv = document.getElementById("altair-viz-d2e58b7effb640ab80e4b780ac062da5");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"__count": 20680, "income": " <=50K", "race": " White"}, {"__count": 2735, "income": " <=50K", "race": " Black"}, {"__count": 7115, "income": " >50K", "race": " White"}, {"__count": 387, "income": " >50K", "race": " Black"}, {"__count": 276, "income": " >50K", "race": " Asian-Pac-Islander"}, {"__count": 275, "income": " <=50K", "race": " Amer-Indian-Eskimo"}, {"__count": 246, "income": " <=50K", "race": " Other"}, {"__count": 762, "income": " <=50K", "race": " Asian-Pac-Islander"}, {"__count": 25, "income": " >50K", "race": " Other"}, {"__count": 36, "income": " >50K", "race": " Amer-Indian-Eskimo"}]}, {"name": "source_0_x_domain___count", "values": [{"min": 25, "max": 20680}]}, {"name": "source_0_y_domain_race", "values": [{"race": " White"}, {"race": " Black"}, {"race": " Asian-Pac-Islander"}, {"race": " Amer-Indian-Eskimo"}, {"race": " Other"}]}, {"name": "source_0_color_domain_income", "values": [{"income": " <=50K"}, {"income": " >50K"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"x": {"field": "__count", "scale": "x"}, "y": {"field": "race", "scale": "y"}, "fill": {"field": "income", "scale": "color"}, "opacity": {"value": 0.75}, "x2": {"value": 0, "scale": "x"}, "height": {"signal": "max(0.25, bandwidth('y'))"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain___count\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain___count\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "zero": true, "nice": true}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_race", "field": "race", "sort": true}, "range": [0, {"signal": "height"}], "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_income", "field": "income", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "ticks": false, "grid": true, "labels": false, "orient": "bottom", "maxExtent": 0, "domain": false, "gridScale": "y", "aria": false, "tickCount": {"signal": "ceil(width/40)"}, "minExtent": 0, "zindex": 0}, {"scale": "x", "orient": "bottom", "grid": false, "labelFlush": true, "labelOverlap": true, "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "title": "Count of Records"}, {"scale": "y", "zindex": 0, "title": "Race", "grid": false, "orient": "left"}], "title": {"text": "Income for different race", "frame": "group"}, "legends": [{"fill": "color", "symbolType": "square", "title": "income", "encode": {"symbols": {"update": {"opacity": {"value": 0.75}}}}}], "padding": 5, "background": "white", "style": "cell", "height": 200, "width": 300}, {"mode": "vega"});
</script>
</div>
</div>
<div id="008ce00b" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display" data-execution_count="43">

<style>
  #altair-viz-e6c6fb944f164fcba9743411b819592d.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-e6c6fb944f164fcba9743411b819592d.vega-embed details,
  #altair-viz-e6c6fb944f164fcba9743411b819592d.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-e6c6fb944f164fcba9743411b819592d"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-e6c6fb944f164fcba9743411b819592d") {
      outputDiv = document.getElementById("altair-viz-e6c6fb944f164fcba9743411b819592d");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"__count": 15115, "income": " <=50K", "sex": " Male"}, {"__count": 9583, "income": " <=50K", "sex": " Female"}, {"__count": 6660, "income": " >50K", "sex": " Male"}, {"__count": 1179, "income": " >50K", "sex": " Female"}]}, {"name": "source_0_x_domain___count", "values": [{"min": 1179, "max": 15115}]}, {"name": "source_0_y_domain_sex", "values": [{"sex": " Male"}, {"sex": " Female"}]}, {"name": "source_0_color_domain_income", "values": [{"income": " <=50K"}, {"income": " >50K"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"opacity": {"value": 0.75}, "fill": {"field": "income", "scale": "color"}, "height": {"signal": "max(0.25, bandwidth('y'))"}, "x": {"field": "__count", "scale": "x"}, "y": {"field": "sex", "scale": "y"}, "x2": {"value": 0, "scale": "x"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain___count\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain___count\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_sex", "field": "sex", "sort": true}, "range": [0, {"signal": "height"}], "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_income", "field": "income", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "aria": false, "ticks": false, "zindex": 0, "domain": false, "labels": false, "orient": "bottom", "gridScale": "y", "grid": true, "maxExtent": 0, "minExtent": 0, "tickCount": {"signal": "ceil(width/40)"}}, {"scale": "x", "zindex": 0, "title": "Count of Records", "orient": "bottom", "labelFlush": true, "grid": false, "tickCount": {"signal": "ceil(width/40)"}, "labelOverlap": true}, {"scale": "y", "zindex": 0, "orient": "left", "grid": false, "title": "Sex"}], "title": {"text": "Income for different sex", "frame": "group"}, "background": "white", "height": 200, "style": "cell", "padding": 5, "width": 300, "legends": [{"fill": "color", "symbolType": "square", "title": "income", "encode": {"symbols": {"update": {"opacity": {"value": 0.75}}}}}]}, {"mode": "vega"});
</script>
</div>
</div>
</section>
<section id="traintest-split" class="level2">
<h2 class="anchored" data-anchor-id="traintest-split">Train/Test Split</h2>
<p>The following cell separates the data set into train and test sets for purposes of training the classifier model.</p>
<p>It uses an 80/20 data split for training and test.</p>
<p>It also defines the target colums, which will be the income range (Column = income)</p>
</section>
<section id="data-validation-3-target-response-distribution" class="level2">
<h2 class="anchored" data-anchor-id="data-validation-3-target-response-distribution">Data Validation 3: Target / Response Distribution</h2>
<p>The following validation will be performed: - Target/response variable follows expected distribution</p>
<div id="e82164c8" class="cell" data-execution_count="19">
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>income
 &lt;=50K    19802
 &gt;50K      6227
Name: count, dtype: int64</code></pre>
</div>
</div>
<div id="d2571174" class="cell" data-execution_count="20">
<div class="cell-output cell-output-stdout">
<pre><code>Data Validation 3 passed: The target has at least a 40%/60% split!</code></pre>
</div>
</div>
</section>
<section id="data-validation-4-deep-checks-validation" class="level2">
<h2 class="anchored" data-anchor-id="data-validation-4-deep-checks-validation">Data Validation 4: Deep Checks Validation</h2>
<p>The following deepchecks validations will be performed: - No anomalous correlations between target/response variable and features/explanatory variables - No anomalous correlations between features/explanatory variables</p>
<div id="a27cae7c" class="cell" data-execution_count="21">
<div class="cell-output cell-output-stdout">
<pre><code>Data Validation 4 passed: Deep checks validation has been performed successfully!</code></pre>
</div>
</div>
</section>
<section id="column-selection" class="level2">
<h2 class="anchored" data-anchor-id="column-selection">Column Selection</h2>
<p>The following cell describes which columns were selected to train the classifier model.</p>
<p>For simplicity, the model is focused on using categorical variables available in the data set.</p>
</section>
<section id="preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing">Preprocessing</h2>
<p>The following cell uses One Hot Encoder to encode categorical features, as well as using a Simple Imputer to deal with missing data in the data set.</p>
<p>Additionally, it creates a Column Transformer describing the treatment that each column will get during the encoding process.</p>
</section>
<section id="model-fit" class="level2">
<h2 class="anchored" data-anchor-id="model-fit">Model Fit</h2>
<p>A pipeline is created that describes the preprocessing and KNN flow that will be used to train the model with “fit”. Immediately after, the model’s performance score is displayed based on training data.</p>
<div id="45309a28" class="cell" data-execution_count="24">
<div class="cell-output cell-output-display" data-execution_count="51">
<style>#sk-container-id-2 {color: black;}#sk-container-id-2 pre{padding: 0;}#sk-container-id-2 div.sk-toggleable {background-color: white;}#sk-container-id-2 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-2 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-2 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-2 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-2 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-2 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-2 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-2 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-2 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-2 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-2 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-2 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-2 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-2 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-2 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-2 div.sk-item {position: relative;z-index: 1;}#sk-container-id-2 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-2 div.sk-item::before, #sk-container-id-2 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-2 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-2 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-2 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-2 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-2 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-2 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-2 div.sk-label-container {text-align: center;}#sk-container-id-2 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-2 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-2" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>Pipeline(steps=[('columntransformer',
                 ColumnTransformer(transformers=[('onehotencoder',
                                                  OneHotEncoder(drop='if_binary',
                                                                dtype=&lt;class 'int'&gt;),
                                                  ['sex']),
                                                 ('pipeline',
                                                  Pipeline(steps=[('simpleimputer',
                                                                   SimpleImputer(fill_value='missing',
                                                                                 strategy='constant')),
                                                                  ('onehotencoder',
                                                                   OneHotEncoder(handle_unknown='ignore',
                                                                                 sparse_output=False))]),
                                                  ['marital-status',
                                                   'relationship', 'occupation',
                                                   'workclass', 'race']),
                                                 ('drop', 'drop',
                                                  ['age', 'fnlwgt', 'education',
                                                   'education-num',
                                                   'capital-gain',
                                                   'capital-loss',
                                                   'hours-per-week',
                                                   'native-country'])])),
                ('kneighborsclassifier', KNeighborsClassifier())])</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-11" type="checkbox"><label for="sk-estimator-id-11" class="sk-toggleable__label sk-toggleable__label-arrow">Pipeline</label><div class="sk-toggleable__content"><pre>Pipeline(steps=[('columntransformer',
                 ColumnTransformer(transformers=[('onehotencoder',
                                                  OneHotEncoder(drop='if_binary',
                                                                dtype=&lt;class 'int'&gt;),
                                                  ['sex']),
                                                 ('pipeline',
                                                  Pipeline(steps=[('simpleimputer',
                                                                   SimpleImputer(fill_value='missing',
                                                                                 strategy='constant')),
                                                                  ('onehotencoder',
                                                                   OneHotEncoder(handle_unknown='ignore',
                                                                                 sparse_output=False))]),
                                                  ['marital-status',
                                                   'relationship', 'occupation',
                                                   'workclass', 'race']),
                                                 ('drop', 'drop',
                                                  ['age', 'fnlwgt', 'education',
                                                   'education-num',
                                                   'capital-gain',
                                                   'capital-loss',
                                                   'hours-per-week',
                                                   'native-country'])])),
                ('kneighborsclassifier', KNeighborsClassifier())])</pre></div></div></div><div class="sk-serial"><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-12" type="checkbox"><label for="sk-estimator-id-12" class="sk-toggleable__label sk-toggleable__label-arrow">columntransformer: ColumnTransformer</label><div class="sk-toggleable__content"><pre>ColumnTransformer(transformers=[('onehotencoder',
                                 OneHotEncoder(drop='if_binary',
                                               dtype=&lt;class 'int'&gt;),
                                 ['sex']),
                                ('pipeline',
                                 Pipeline(steps=[('simpleimputer',
                                                  SimpleImputer(fill_value='missing',
                                                                strategy='constant')),
                                                 ('onehotencoder',
                                                  OneHotEncoder(handle_unknown='ignore',
                                                                sparse_output=False))]),
                                 ['marital-status', 'relationship',
                                  'occupation', 'workclass', 'race']),
                                ('drop', 'drop',
                                 ['age', 'fnlwgt', 'education', 'education-num',
                                  'capital-gain', 'capital-loss',
                                  'hours-per-week', 'native-country'])])</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-13" type="checkbox"><label for="sk-estimator-id-13" class="sk-toggleable__label sk-toggleable__label-arrow">onehotencoder</label><div class="sk-toggleable__content"><pre>['sex']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-14" type="checkbox"><label for="sk-estimator-id-14" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder(drop='if_binary', dtype=&lt;class 'int'&gt;)</pre></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-15" type="checkbox"><label for="sk-estimator-id-15" class="sk-toggleable__label sk-toggleable__label-arrow">pipeline</label><div class="sk-toggleable__content"><pre>['marital-status', 'relationship', 'occupation', 'workclass', 'race']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-16" type="checkbox"><label for="sk-estimator-id-16" class="sk-toggleable__label sk-toggleable__label-arrow">SimpleImputer</label><div class="sk-toggleable__content"><pre>SimpleImputer(fill_value='missing', strategy='constant')</pre></div></div></div><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-17" type="checkbox"><label for="sk-estimator-id-17" class="sk-toggleable__label sk-toggleable__label-arrow">OneHotEncoder</label><div class="sk-toggleable__content"><pre>OneHotEncoder(handle_unknown='ignore', sparse_output=False)</pre></div></div></div></div></div></div></div></div><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-18" type="checkbox"><label for="sk-estimator-id-18" class="sk-toggleable__label sk-toggleable__label-arrow">drop</label><div class="sk-toggleable__content"><pre>['age', 'fnlwgt', 'education', 'education-num', 'capital-gain', 'capital-loss', 'hours-per-week', 'native-country']</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-19" type="checkbox"><label for="sk-estimator-id-19" class="sk-toggleable__label sk-toggleable__label-arrow">drop</label><div class="sk-toggleable__content"><pre>drop</pre></div></div></div></div></div></div></div></div><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-20" type="checkbox"><label for="sk-estimator-id-20" class="sk-toggleable__label sk-toggleable__label-arrow">KNeighborsClassifier</label><div class="sk-toggleable__content"><pre>KNeighborsClassifier()</pre></div></div></div></div></div></div></div>
</div>
</div>
<div id="abf8348a" class="cell" data-execution_count="25">
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>0.7979177071727689</code></pre>
</div>
</div>
</section>
<section id="model-test-score-and-prediction" class="level2">
<h2 class="anchored" data-anchor-id="model-test-score-and-prediction">Model Test Score and Prediction</h2>
<p>Finally, the model is scored on the unseen examples.</p>
<p>Additionally, it displays the hard predictions the model does on the test data.</p>
<div id="47d6f224" class="cell" data-execution_count="26">
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>0.7976336816226183</code></pre>
</div>
</div>
</section>
<section id="visualization-of-the-prediction-result" class="level2">
<h2 class="anchored" data-anchor-id="visualization-of-the-prediction-result">Visualization of the prediction result</h2>
<div id="a51dcac0" class="cell" data-execution_count="27">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="adult_income_predictor_report_files/figure-html/cell-28-output-1.png" width="557" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<p>The KNN model described in this notebook is able to predict the income of an individual based on the described categorical features with an accuracy of ~80% as seen in the training and test scores.</p>
<p>It was expected that selected categorical features would influence the income range for individuals, particularly those related to occupation and education level.</p>
<p>With above histograms, we notice that our KNN model predicts more individuals to have income that is less than 50K and predict less individuals to have more than 50K income, comparint to the actual results.</p>
<p>These findings support the notion that specific socioeconomic characteristics of individuals have a direct influence on the individual’s income level.</p>
<p>However, this analysis opens the question on how each individual feature affects the model. Therefore, further deep-dive could better inform if all features have a significant influence on the model’s ability to predict accurately. Additional numerical features, such as age and hours-per-week are likely to improve the model training process and could be evaluated as well.</p>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li>Becker, B. &amp; Kohavi, R. (1996). Adult [Dataset]. UCI Machine Learning Repository. https://doi.org/10.24432/C5XW20.</li>
<li>Kolhatkar, V. UBC Master of Data Science program, 2024-25, DSCI 571 Supervised Learning I.</li>
<li>Ostblom, J. UBC Master of Data Science program, 2024-25, DSCI 573 Feature and Model Selection.</li>
<li>Pedregosa, F., Varoquaux, G., Gramfort, A., Michel, V., Thirion, B., Grisel, O., et al.&nbsp;(2011). Scikit-learn: Machine Learning in Python. Journal of Machine Learning Research, 12, 2825–2830.</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>